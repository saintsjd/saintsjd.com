<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<!-- Mirrored from www.ituprising.com/malawi/blog/jon/recovering_deleted_files_with_linux_and_sleuthkit by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 11 Sep 2010 16:14:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>
  <title>Recovering Deleted files with Linux and Sleuthkit | Barrio Malawi</title>
  <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<script type="text/javascript"><!--
  var BASE_URL = "../../index.html";
--></script>

<link rel="shortcut icon" href="../../misc/favicon.ico" type="image/x-icon" />
  <style type="text/css" media="all">@import "../../modules/book/book.css";</style>
<style type="text/css" media="all">@import "../../modules/img_assist/img_assist.css";</style>
<style type="text/css" media="all">@import "../../modules/node/node.css";</style>
<style type="text/css" media="all">@import "../../modules/system/defaults.css";</style>
<style type="text/css" media="all">@import "../../modules/system/system.css";</style>
<style type="text/css" media="all">@import "../../modules/tagadelic/tagadelic.css";</style>
<style type="text/css" media="all">@import "../../modules/user/user.css";</style>
<style type="text/css" media="all">@import "../../modules/comment/comment.css";</style>
<style type="text/css" media="all">@import "../../themes/malawi/style.css";</style>
  <link rel="shortcut icon" href="themes/malawi/images/malawi_favicon.html" type="image/x-icon" />
  <link rel="stylesheet" type="text/css" media="print" href="themes/malawi/print.html" />
</head>
<body >
<div id="header">
  <p class="hidden">
     <a href="recovering_deleted_files_with_linux_and_sleuthkit.html#main-content" class="hidden active" title="Skip directly to the content">Skip to content</a>  </p>

  <!-- NO LOGO 
    <a href="/malawi/" title="Home Page"><img src="/malawi/themes/malawi/logo.png" alt="Logo" /></a>
    -->

      <h1 id="site-name"><a href="../../index.html" title="Index Page">Barrio Malawi</a></h1>
  
  
</div>

     <div id="primary">
   <ul class=""><li class="first menu-1-1-42"><a href="../../about_our_travels.html" class="menu-1-1-42">About</a></li>
<li class="last menu-1-2-42"><a href="../../image.html" class="menu-1-2-42">Pictures</a></li>
</ul>  </div>
  
   <div id="secondary">
    </div>

<table border="0" cellpadding="0" cellspacing="0" id="content">
  <tr>
        <td valign="top">
      <div id="main">
        <div class="breadcrumb"><a href="../../index.html">Home</a> » <a href="../../blog.html">Blogs</a> » <a href="../jon.html">jon&#039;s blog</a></div>                                 <h1 class="title">Recovering Deleted files with Linux and Sleuthkit</h1>
        <div class="tabs"></div>
          <div class="node node-blog">
           <span class="submitted">Submitted by jon on Wed, 2006-05-17 09:39.</span>
    <div class="content"><p>Ever accidentally delete a file you really needed from the recycle bin?  Ever format a disk and install a new operating system only to find later that you forgot to save off some really important files first?  The former recently happened to us here at the Univeristy in Mzuzu... we thought doom was upon us until we stumbled upon a open (free to change, use, and distribute) software utility called Sleuthkit (<a href="http://www.sleuthkit.org/">http://www.sleuthkit.org</a>).  </p>
<p>When we realized our disaster, we started searching Google for "data recovery", "recover my files", etc.  Listings appeared for companies charging hundreds of dollars for data recovery services and software. We tried some of the trial versions of the commercial software, but nothing was able to detect our files.  Finally one of us here in the office in Mzuzu stumbled upon Sleuthkit, an  amazing utility that was able to recover out deleted files from a formatted disk and didn't cost us a penny!</p>
<p>For all those out there that do not feel comfortable removing hard disks from computers, or if all of this talk of Ubuntu and software is boring you at this stage, let me leave you with just one parting thought - if you are using a computer and discover that a file you really need has somehow been "permanently" deleted the steps you should take are:</p>
<p>1. Immediately stop using the computer and shut it down.  When your precious file was "deleted" from the disk, it wasn't actually deleted at all.  In fact all the computer did was make a note to it self that the space occupied by the file is now free to be over written. If your file has not yet been over written by new files, then recovery might possible with Sleuthkit.</p>
<p>2. Next, contact all the nerds you know.  Tell them what has happened and tell them that you have heard of about tools like "Ubuntu", "Linux", and "Sleuthkit" that can be used to fix the problem.  If the nerd's eyes light up when you mention "Ubuntu" or "Linux" you have found the right person to help.</p>
<p>The following are the steps we used to recover our files from the formatted disk here at the university in Mzuzu:</p>
<ol>
<li>Remove the hard disk from the computer it was in when the files were deleted (if the disk with deleted files in on a laptop do the following: boot the laptop with a liveCD such as knoppix, mount a network drive using smbmount or nfs, use dd to write an image of the disk to the network drive, and  skip to step #8 below)</p>
<li>Attach the disk with the "deleted" files to a computer that is running Ubuntu Linux as its operating system (I imagine your Could use a Ubuntu LiveCD here )<br />
<strong>*** Note this computer will need to have free disk space larger than the entire size of the disk with deleted files ****</strong></p>
<li>Boot up the Ubuntu computer
<li>use System-&gt;Administration-&gt;Disks or run the command "df -h" from the command line to determine which system device number your disk being identified by.  We used df -h and based on the size of our disks found that the one with the deleted files was referenced as /dev/hdb<br />
<strong>*** Only once you are positive that you have the correct system identity of your disk should you proceed ***</strong></p>
<li>Create a disk image of the disk "sudo dd if=/dev/YOUR_DISK_ID of=/home/YOUR_HOME_FOLDER/recovery_disk_image.img"
<li>When the image of the disk with deleted files is ready, power down Ubuntu and remove the disk with the deleted files. Store it in a safe place. But do not plug it back into another computer just yet.
<li>Turn the Ubuntu computer back on
<li>Add the universe software repoitories to your apt sources list (see The Ubuntu Getting Started Guidi on Google for more info)
<li>use apt or synaptic package manager to to install <strong>sleuthkit</strong> and <strong>autopsy</strong>
<li>open a command line prompt and run "sudo autopsy"
<li>open a web browser and go to the page <a href="http://localhost:9999/autopsy" title="http://localhost:9999/autopsy">http://localhost:9999/autopsy</a>
<li>A graphical interface appears Choose "New case" and follow the questions that the wizard asks you.  When prompted for the location of the disk image enter "/home/YOUR_HOME_FOLDER/formatted_disk.img"
<li>After sluethkit analyzes the disk image it will display a listing of the disk's partitions. Choose the partition where you deleted file was saved and click Analyze -&gt; File Analysis
<li>Along the left hand side of the screen you will see a search box where you can search for the deleted file by name. Enter the file name and click Search.
<li>A list of the files matching your search text will appear. Browse the list of files and click on the hyperlink name of the file that you would like to recover
<li>Once the file finishes loading click the Export hyperlink and wait for your web browser to prompt you to save the file
<li>When prompted save the file
<li>Test to make sure your “deleted” file opens correctly on another computer. Transfer the file to another computer using a CD, USB flash drive, floppy disk or the internet
</ol>
<p>Repeat steps 14 -18 to recover more files that were deleted.  Using these steps we were able to recover an entire folder of files from a disk that had been formatted and reinstalled with a new version of Windows XP. Hope it works for you as well as it worked for us</p>
<br class="clear" /></div>
        <div class="taxonomy">Categories: <ul class="links inline"><li class="first taxonomy_term_25"><a href="../../jons_topics/howtos.html" rel="tag" title="" class="taxonomy_term_25">HOWTOs</a></li>
<li class="taxonomy_term_35"><a href="../../jons_topics/linux.html" rel="tag" title="" class="taxonomy_term_35">Linux</a></li>
<li class="taxonomy_term_3"><a href="../../nerds_only.html" rel="tag" title="" class="taxonomy_term_3">Nerds Only</a></li>
<li class="last taxonomy_term_33"><a href="../../jons_topics/open_source.html" rel="tag" title="" class="taxonomy_term_33">open source</a></li>
</ul></div>
            <div class="links">&raquo; <ul class="links inline"><li class="first blog_usernames_blog"><a href="../jon.html" title="Read jon&#039;s latest blog entries." class="blog_usernames_blog">jon&#039;s blog</a></li>
<li class="last comment_forbidden"><span class="comment_forbidden"><a href="../../user/login6fba.html?destination=comment/reply/71%2523comment-form">Login</a> to post comments</span></li>
</ul></div>
      </div>
<div id="comments"></div>      </div>
    </td>
    <td id="sidebar-right" valign="top">

       <div class="block block-search" id="block-search-0">
 <div class="block-wrapper">
    <h2 class="title">Search</h2>
    <div class="content"><form action="http://www.ituprising.com/malawi/search/node"  method="post" id="search-block-form">
<div><div class="container-inline"><div class="form-item">
 <input type="text" maxlength="128" name="search_block_form_keys" id="edit-search-block-form-keys"  size="15" value="" title="Enter the terms you wish to search for." class="form-text" />
</div>
<input type="submit" name="op" id="edit-submit" value="Search"  class="form-submit" />
<input type="hidden" name="form_id" id="edit-search-block-form" value="search_block_form"  />
</div>
</div></form>
</div>
 </div>
 </div>
 <div class="block block-tagadelic" id="block-tagadelic-3">
 <div class="block-wrapper">
    <h2 class="title">Marissa's Topics</h2>
    <div class="content"><a href="../../marissas_topics/artwork.html" class="tagadelic level4">artwork</a> 
<a href="../../marissas_topics/box_project.html" class="tagadelic level3">box project</a> 
<a href="../../marissas_topics/daily_life.html" class="tagadelic level6">Daily Life</a> 
<a href="../../marissas_topics/egg_tempera.html" class="tagadelic level4">Egg Tempera</a> 
<a href="../../marissas_topics/environment.html" class="tagadelic level1">Environment</a> 
<a href="../../marissas_topics/homemade_paint.html" class="tagadelic level4">Homemade Paint</a> 
<a href="../../marissas_topics/local_schools.html" class="tagadelic level5">Local Schools</a> 
<a href="../../marissas_topics/murals.html" class="tagadelic level5">murals</a> 
<a href="../../marissas_topics/found_pigments.html" class="tagadelic level4">Natural Pigments</a> 
<a href="../../marissas_topics/schools.html" class="tagadelic level3">schools</a> 
<a href="../../marissas_topics/sketchbook.html" class="tagadelic level1">Sketchbook</a> 
<a href="../../marissas_topics/womens_football.html" class="tagadelic level2">Women&#039;s Football</a> 
<div class='more-link'><a href="../../tagadelic/chunk/3.html">more tags</a></div></div>
 </div>
 </div>
 <div class="block block-tagadelic" id="block-tagadelic-4">
 <div class="block-wrapper">
    <h2 class="title">Jon's Topics</h2>
    <div class="content"><a href="../../jons_topics/argentina.html" class="tagadelic level1">Argentina</a> 
<a href="../../jons_topics/connectivity.html" class="tagadelic level6">connectivity</a> 
<a href="../../jons_topics/development.html" class="tagadelic level6">development</a> 
<a href="../../jons_topics/fulbright_journal.html" class="tagadelic level4">Fulbright Journal</a> 
<a href="../../jons_topics/ecological_sanitation.html" class="tagadelic level4">green things</a> 
<a href="../../jons_topics/howtos.html" class="tagadelic level5">HOWTOs</a> 
<a href="../../jons_topics/information_technology.html" class="tagadelic level5">Information Technology</a> 
<a href="../../jons_topics/linux.html" class="tagadelic level4">Linux</a> 
<a href="../../jons_topics/micro_credit.html" class="tagadelic level2">microcredit</a> 
<a href="../../jons_topics/open_source.html" class="tagadelic level4">open source</a> 
<a href="../../jons_topics/teaching.html" class="tagadelic level2">teaching</a> 
<a href="../../jons_topics/vsat.html" class="tagadelic level4">VSAT</a> 
<div class='more-link'><a href="../../tagadelic/chunk/4.html">more tags</a></div></div>
 </div>
 </div>
 <div class="block block-block" id="block-block-3">
 <div class="block-wrapper">
    <h2 class="title">Blogging Friends</h2>
    <div class="content"><ul>
<li><a href="http://davidweinstein.blogspot.com/">Japan, Photo Journal</a></li>
<li><a href="http://www.vdomck.org/blog/">Malawi, Hacktivate</a></li>
<li><a href="http://www.cheriblauwet.com/">Everywhere, Exploits of Cheri Blauwet</a></li>
<li><a href="http://www.kevinstrek.com/ed">Malawi, Ed Schaefer</li>
<li><a href="http://www.mayokavillage.com/">Malawi, Mayoka Village</li>
<li><a href="http://mangalisojere.blogspot.com/">Malawi,Mangaliso's World</li>
</ul>
<br class="clear" /></div>
 </div>
 </div>
 <div class="block block-block" id="block-block-1">
 <div class="block-wrapper">
    <h2 class="title">Feed Me...</h2>
    <div class="content"><p><span class="description">Receive updates from out site automatically with RSS feeds (<a href="http://news.bbc.co.uk/1/hi/help/3223484.stm">What is RSS?</a>).</span> </p>
<ul>
<li><a href="../../rss.xml"><img src="../../misc/feed.png" align="left">&nbsp;Recent Posts</a>
</li>
<li><a href="feedhtml.html"><img src="../../misc/feed.png" align="left">&nbsp;Jon's Blog</a>
</li>
<li><a href="../marissa/feedhtml.html"><img src="../../misc/feed.png" align="left">&nbsp;Marissa's Blog</a>
</li>
<p><!--
<li><a href="/malawi/taxonomy/term/1/0/feed"><img src="/malawi/misc/feed.png" align="left">&nbsp;Fulbright Journal</a></li>
<li><a href="/malawi/taxonomy/term/2/0/feed"><img src="/malawi/misc/feed.png" align="left">&nbsp;Artists Only</a></li>
<li><a href="/malawi/taxonomy/term/3/0/feed"><img src="/malawi/misc/feed.png" align="left">&nbsp;Nerds Only</a></li>
<p>-->
</ul>
<script type="text/javascript" src="http://embed.technorati.com/embed/9393z9d3px.js"></script><br class="clear" /></div>
 </div>
 </div>
    </td>  </tr>
</table>


<div id="footer">
      <p>All content copyright 2006-2007 Jon and Marissa Saints
</p>
  </div><!-- footer -->	

 <script type="text/javascript" src="http://www.google-analytics.com/urchin.js"></script>
<script type="text/javascript"><!--
_uacct = "UA-18483684-1";urchinTracker();
// --></script><noscript></noscript>
  </body>

<!-- Mirrored from www.ituprising.com/malawi/blog/jon/recovering_deleted_files_with_linux_and_sleuthkit by HTTrack Website Copier/3.x [XR&CO'2010], Sat, 11 Sep 2010 16:14:57 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>

